(self.webpackChunkcody=self.webpackChunkcody||[]).push([[467],{7439:function(){},5134:function(e){e.exports={dark_theme:"dark_theme__2YcE2",blackout:"blackout__1ojtY",button:"button__cmkBy"}},6791:function(e){e.exports={dark_theme:"dark_theme__3wLPE",blackout:"blackout__21V0K",add_button:"add_button__3LOtl",wrapper:"wrapper__1pyI2",icon_plus:"icon_plus__116N2",button_panel:"button_panel__gg7O9",disable:"disable__sXqtO",active:"active__yZad7",first:"first__Egb5V"}},251:function(e){e.exports={dark_theme:"dark_theme__2bc8p",blackout:"blackout__1611J",button_menu:"button_menu__2piQ9"}},6281:function(e){e.exports={dark_theme:"dark_theme__1wiev",blackout:"blackout__w5YhI",iframe:"iframe__1U-84",error:"error__esSMI"}},1590:function(e){e.exports={dark_theme:"dark_theme__3yCyu",blackout:"blackout__dUPXb",code_space:"code_space__11Mjd",item:"item__SpNbI",control_panel:"control_panel__1TqbY",test_1:"test_1__3Hgc-",test_2:"test_2__hP1_S"}},2859:function(e){e.exports={dark_theme:"dark_theme__fznSs",blackout:"blackout__3dVrh",panel:"panel__3l4Hi"}},3411:function(e){e.exports={dark_theme:"dark_theme__Kucbp",blackout:"blackout__3KKen",item:"item__35n1K",control_panel:"control_panel__yQ4kQ",button:"button__3W5Fu",code_space:"code_space__1wkmD",code_editor:"code_editor__1Fhfc",code_editor_iframe:"code_editor_iframe__1Redy"}},5960:function(e){e.exports={dark_theme:"dark_theme__1vZQG",blackout:"blackout__2dhSH",panel:"panel__3ewjf",header_panel:"header_panel__P1UTX",left:"left__1wPpN",type_icon:"type_icon__afIlV",collapse_button:"collapse_button__X0HCG",body_panel:"body_panel__3BMnq","collapse-down":"collapse-down__3qHg0",collapse:"collapse__Yihdy","collapse-up":"collapse-up__2CPEQ"}},1614:function(e){e.exports={dark_theme:"dark_theme__1LFiI",blackout:"blackout__1F62B",iframe_window:"iframe_window__LDq3s",iframe:"iframe__aNhUm"}},9152:function(e){e.exports={dark_theme:"dark_theme__2ohgS",blackout:"blackout__pWJYF",info:"info__1Xnb_"}},4273:function(e){e.exports={dark_theme:"dark_theme__38hrC",blackout:"blackout__2iTaX",work_space:"work_space__3AUaj",header:"header__3G3j9",code_space:"code_space__1bhak"}},1467:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Oe}});var o=t(5893),r=t(7294),i=t(5977),a=t(7296),c=t(3900),s=t(2167),l=t(4177),u=t(6964),d=t(5134),f=t.n(d),p=function(){return p=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},p.apply(this,arguments)},v=function(e){var n=e.icon,t=e.onClickButton,r=e.children;return(0,o.jsxs)("div",p({className:f().button,onClick:t},{children:[(0,o.jsx)("i",{className:n},void 0),(0,o.jsx)("div",p({className:f().title},{children:r}),void 0)]}),void 0)},_=t(2859),h=t.n(_),b=function(){return b=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},b.apply(this,arguments)},x=function(e){return(0,o.jsxs)("div",b({className:h().panel},{children:[(0,o.jsx)(v,b({icon:"bx bx-code-alt",onClickButton:function(){console.log("onClickCodeButton"),e.onClickCodeButton()}},{children:"Code"}),void 0),(0,o.jsx)(v,b({icon:"bx bx-window",onClickButton:function(){console.log("onClickWindowButton"),e.onClickWindowButton()}},{children:"Window"}),void 0),(0,o.jsx)(v,b({icon:"bx bx-text",onClickButton:function(){console.log("onClickTextButton"),e.onClickTextButton()}},{children:"Text"}),void 0)]}),void 0)},m=t(1590),j=t.n(m),y=t(5007),w=function(e){var n=e.initialValue,t=e.onChange,i=(0,r.useRef)(),a=(0,l.X)((function(e){return e.spaces.themeDark}))?"vs-dark":"vs";return(0,o.jsx)(y.ZP,{value:n,onChange:function(e,n){t(e),i.current=e},language:"javascript",theme:a,options:{wordWrap:"on",minimap:{enabled:!1},fontSize:16,showUnused:!1,lineNumbersMinChars:3,scrollBeyondLastLine:!1,automaticLayout:!0}},void 0)},k=t(6957),g=t(6281),O=t.n(g),C=function(){return C=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},C.apply(this,arguments)},N=function(e){var n=e.code,t=void 0===n?void 0:n,i=(0,r.useRef)(),a=(0,r.useState)(),c=a[0],s=a[1];return(0,r.useEffect)((function(){var e,n,o,r;e=void 0,n=void 0,r=function(){var e;return function(e,n){var t,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],o=0}finally{t=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(n){switch(n.label){case 0:return[4,(0,k.J)(t)];case 1:return e=n.sent(),s(e.error),i.current.contentWindow.postMessage(e.code,"*"),[2]}}))},new((o=void 0)||(o=Promise))((function(t,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(e){e(n)}))).then(a,c)}s((r=r.apply(e,n||[])).next())}))}),[t]),(0,o.jsxs)("div",C({className:O().iframe},{children:[(0,o.jsx)("iframe",{title:"code",ref:i,srcDoc:"\n  <html>\n    <head></head>\n    <body>\n      <div id=\"root\"></div>\n      <script>\n        const handleError = (error) => {\n          const root = document.querySelector('#root')\n          root.innerHTML = '<div>' + error + '</div>'\n          console.error(error)\n        }\n        window.addEventListener('error', (error) => {\n          event.preventDefault()\n          handleError(error.message)\n        })\n        window.addEventListener('message', (event) => {\n          event.preventDefault()\n          try {\n            eval(event.data)\n          } catch (err) {\n            handleError(err)\n          }\n        })\n      <\/script>\n    </body>\n  </html>\n",sandbox:"allow-scripts"},void 0),c&&(0,o.jsx)("div",C({className:O().error},{children:c}),void 0)]}),void 0)},P=t(251),S=t.n(P),M=function(){return M=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},M.apply(this,arguments)},D=function(e){var n=e.id,t=e.isRemove,r=void 0!==t&&t,i=e.isMoveUp,a=void 0!==i&&i,c=e.isMoveDown,s=void 0!==c&&c,d=(0,l.P)();return(0,o.jsxs)("div",M({className:S().button_menu},{children:[a&&(0,o.jsx)("div",M({onClick:function(){d((0,u.A1)({id:n}))}},{children:(0,o.jsx)("i",{className:"bx bx-up-arrow-alt"},void 0)}),void 0),s&&(0,o.jsx)("div",M({onClick:function(){d((0,u.vi)({id:n}))}},{children:(0,o.jsx)("i",{className:"bx bx-down-arrow-alt"},void 0)}),void 0),r&&(0,o.jsx)("div",M({onClick:function(){d((0,u.wz)({id:n}))}},{children:(0,o.jsx)("i",{className:"bx bx-x"},void 0)}),void 0)]}),void 0)},E=t(5960),B=t.n(E),X=function(){return X=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},X.apply(this,arguments)},T=function(e){var n=e.children,t=e.item,i=e.isMoveUp,a=e.isMoveDown,c=(0,r.useState)(!1),s=c[0],l=c[1],u=s?B().collapse:B().body_panel,d=s?"bx bxs-chevron-right":"bx bxs-chevron-down",f=s?"Развернуть":"Свернуть",p="".concat(B().type_icon," ");return"code"===t.type&&(p+="bx bx-code-alt"),"text"===t.type&&(p+="bx bx-text"),"iframe"===t.type&&(p+="bx bx-window"),(0,o.jsxs)("div",X({className:B().panel},{children:[(0,o.jsxs)("div",X({className:B().header_panel},{children:[(0,o.jsxs)("div",X({className:B().left},{children:[(0,o.jsx)("i",{className:p},void 0),(0,o.jsxs)("div",X({className:B().collapse_button,onClick:function(){l(!s)}},{children:[(0,o.jsx)("i",{className:d},void 0),f]}),void 0)]}),void 0),(0,o.jsx)(D,{id:t.id,isRemove:!0,isMoveUp:i,isMoveDown:a},void 0)]}),void 0),(0,o.jsx)("div",X({className:u},{children:n}),void 0)]}),void 0)},L=(t(8182),t(3945),t(3411)),U=t.n(L),I=t(573),F=(0,I.P1)((function(e){return e.code.workSpace}),(function(e,n){return n}),(function(e,n){return function(e,n){var t=[];t.push("\n    import React from 'react'\n    import ReactDOM from 'react-dom'\n  ");for(var o=0,r=e;o<r.length;o++){var i=r[o];if("code"===i.type&&(i.id===n.id||"iframe"===n.type?t.push("\n    var show = (value) => {\n      const root = document.querySelector('#root')\n      if(typeof value === 'object') {\n        if (value.$$typeof && value.props) {\n          ReactDOM.render(value, root)\n        } else {\n          root.innerHTML = JSON.stringify(value)\n        }\n      } else {\n        root.innerHTML = value\n      }\n    }\n  "):t.push("var show = () => {}"),t.push(i.content)),i.id===n.id)break}return t}(e,n)})),R=function(){return R=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},R.apply(this,arguments)},W=(0,r.memo)((function(e){var n=e.item,t=e.first,i=e.end,a=(0,l.P)(),c=(0,r.useState)(n.content),s=c[0],d=c[1],f=(0,r.useState)(!1),p=f[0],v=f[1],_=(0,l.X)((function(e){return F(e,n)})),h=p?"Код":"Окно",b=!t,x=!i,m=p?(0,o.jsx)("div",R({className:U().code_editor_iframe},{children:(0,o.jsx)(N,{code:_.join("\n")},void 0)}),void 0):(0,o.jsx)("div",R({className:U().code_editor},{children:(0,o.jsx)(w,{initialValue:s,onChange:d},void 0)}),void 0);return(0,r.useEffect)((function(){var e=setTimeout((function(){a((0,u.x0)({id:n.id,content:s}))}),750);return function(){clearTimeout(e)}}),[s]),(0,o.jsxs)(T,R({item:n,isMoveUp:b,isMoveDown:x},{children:[(0,o.jsx)("div",R({className:U().control_panel},{children:(0,o.jsx)("button",R({className:U().button,onClick:function(){v(!p)}},{children:h}),void 0)}),void 0),(0,o.jsx)("div",R({className:U().code_space},{children:m}),void 0)]}),void 0)})),q=t(1614),H=t.n(q),V=function(){return V=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},V.apply(this,arguments)},Y=function(e){var n=e.item,t=e.first,r=e.end,i=(0,l.X)((function(e){return F(e,n)})),a=!t,c=!r;return(0,o.jsx)(T,V({item:n,isMoveUp:a,isMoveDown:c},{children:(0,o.jsx)("div",V({className:H().iframe},{children:(0,o.jsx)(N,{code:i.join("\n")},void 0)}),void 0)}),void 0)},G=t(1652),K=(t(7439),t(3058)),Q=t.n(K),Z=t(5547),z=t.n(Z),J=t(8309),A=t.n(J),$=t(2964),ee=t.n($),ne=t(9412),te=t.n(ne),oe=function(){return oe=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},oe.apply(this,arguments)},re=function(e,n,t,o){return new(t||(t=Promise))((function(r,i){function a(e){try{s(o.next(e))}catch(e){i(e)}}function c(e){try{s(o.throw(e))}catch(e){i(e)}}function s(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,c)}s((o=o.apply(e,n||[])).next())}))},ie=function(e,n){var t,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],o=0}finally{t=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},ae=(0,r.memo)((function(e){var n=e.item,t=e.first,i=e.end,a=(0,l.P)(),c=!t,s=!i,d=(0,r.useRef)(),f=(0,G.E)(),p={quote:Q(),marker:z(),checklist:A(),list:ee(),header:te()},v=r.useCallback((function(e){return re(void 0,void 0,void 0,(function(){return ie(this,(function(n){return d.current=e,console.log(d.current),[2]}))}))}),[]);return(0,o.jsx)(T,oe({item:n,isMoveUp:c,isMoveDown:s},{children:(0,o.jsx)(f,{tools:p,data:n.content,minHeight:10,onInitialize:v,onChange:function(){return re(void 0,void 0,void 0,(function(){var e;return ie(this,(function(t){switch(t.label){case 0:return[4,d.current.save()];case 1:return e=t.sent(),a((0,u.x0)({id:n.id,content:e})),[2]}}))}))},placeholder:"Введите текст"},void 0)}),void 0)})),ce=t(7887),se=t(6791),le=t.n(se),ue=function(){return ue=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},ue.apply(this,arguments)},de=function(e){var n=e.id,t=(0,l.P)(),i=(0,r.useState)(!1),a=i[0],c=i[1],s=(0,r.useState)(!0),d=s[0],f=s[1],p=d?"".concat(le().wrapper," ").concat(le().first):a?"".concat(le().wrapper," ").concat(le().active):"".concat(le().wrapper," ").concat(le().disable),v="".concat(le().icon_plus,a?" bx bx-minus":" bx bx-plus");return(0,o.jsx)("div",ue({className:le().add_button},{children:(0,o.jsxs)("div",ue({className:p},{children:[(0,o.jsx)("i",{className:v,onClick:function(){c(!a),f(!1)}},void 0),(0,o.jsxs)("div",ue({className:le().button_panel},{children:[(0,o.jsx)("i",{className:"bx bx-code-alt",onClick:function(){t((0,u.jX)({id:Date.now(),afterId:n,type:ce.w.CODE}))}},void 0),(0,o.jsx)("i",{className:"bx bx-text",onClick:function(){t((0,u.jX)({id:Date.now(),afterId:n,type:ce.w.TEXT}))}},void 0),(0,o.jsx)("i",{className:"bx bx-window",onClick:function(){t((0,u.jX)({id:Date.now(),afterId:n,type:ce.w.IFRAME}))}},void 0)]}),void 0)]}),void 0)}),void 0)},fe=t(3608),pe=t.n(fe),ve=function(){return ve=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},ve.apply(this,arguments)},_e=function(e){var n=e.id,t=(0,l.P)(),i=(0,l.X)((function(e){return e.code.workSpace})),a=i.map((function(e,n){var t=0===n,r=n===i.length-1,a=e.id,c=e.id+String(pe()(100,1e3));return"code"===e.type?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(de,{id:e.id},c),(0,o.jsx)(W,{item:e,first:t,end:r},a)]},void 0):"iframe"===e.type?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(de,{id:e.id},c),(0,o.jsx)(Y,{item:e,first:t,end:r},a)]},void 0):"text"===e.type?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(de,{id:e.id},c),(0,o.jsx)(ae,{item:e,first:t,end:r},a)]},void 0):void 0}));return(0,r.useEffect)((function(){"example"!==n&&(0,s.aF)(n,i)}),[i]),(0,o.jsxs)("div",ve({className:j().code_space},{children:[a,(0,o.jsx)(x,{onClickCodeButton:function(){t((0,u.iX)({id:Date.now()}))},onClickWindowButton:function(){t((0,u.d0)({id:Date.now()}))},onClickTextButton:function(){t((0,u.F4)({id:Date.now()}))}},Date.now()+pe()(1e3,1500))]}),void 0)},he=t(5750),be=t(9152),xe=t.n(be),me=(0,I.P1)((function(e){return e.spaces.workSpaces}),(function(e,n){return n}),(function(e,n){console.log("selector");var t=e.findIndex((function(e){return e.id===n}));return e[t].name})),je=function(){return je=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},je.apply(this,arguments)},ye=function(e){var n=e.id,t=(0,l.P)(),i=(0,l.X)((function(e){return me(e,n)})),a=(0,r.useState)(""),c=a[0],s=a[1];return(0,r.useEffect)((function(){s(i)}),[i]),(0,o.jsx)("div",je({className:xe().info},{children:(0,o.jsx)("input",{type:"text",value:c,onChange:function(e){s(e.target.value)},onBlur:function(){t((0,he.eu)({id:n,name:c}))}},void 0)}),void 0)},we=t(4273),ke=t.n(we),ge=function(){return ge=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},ge.apply(this,arguments)},Oe=function(){var e=(0,i.UO)(),n=(0,l.P)(),t=(0,l.X)((function(e){return e.code.loading}));return(0,r.useLayoutEffect)((function(){t&&("example"===e.id?(console.log("getExample"),(0,s.W7)(n)):(console.log("getWorkSpace"),(0,s.q5)(String(e.id),n)))}),[]),(0,o.jsx)(c.Z,{children:t?(0,o.jsx)("div",{children:"Loading"},void 0):(0,o.jsxs)("div",ge({className:ke().work_space},{children:[(0,o.jsx)("div",ge({className:ke().header},{children:(0,o.jsx)(a.Z,{},void 0)}),void 0),(0,o.jsx)(ye,{id:e.id},void 0),(0,o.jsx)("div",ge({className:ke().code_space},{children:(0,o.jsx)(_e,{id:e.id},void 0)}),void 0)]}),void 0)},void 0)}}}]);